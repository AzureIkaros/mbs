"use strict";define("render",["jquery"],function(){return{index_render:function(){var i=this;$.ajax({url:"../php/data.php",dataType:"json"}).done(function(n){i.chooseRender(n,"文艺女装",$("#main .literature"),0),i.chooseRender(n,"优雅女装",$("#main .grace"),1),i.chooseRender(n,"活泼女装",$("#main .lively"),2),i.chooseRender(n,"简约女装",$("#main .simplicity"),3),i.chooseRender(n,"度假女装",$("#main .vacation"),4),i.chooseRender(n,"舒适内衣",$("#main .underwear"),5),i.chooseRender(n,"品质男装",$("#main .mens"),6),i.chooseRender(n,"箱包品类",$("#main .package"),7),i.indexCart(n),$(function(){$("img.lazy").lazyload({effect:"fadeIn"})})})},chooseRender:function(n,i,e,a){var t="<ul>";$.each(["文艺女装","优雅女装","活泼女装","简约女装","度假女装","舒适内衣","品质男装","箱包品类"],function(n,i){t+=a==n?"<li><a href=\"javascript:void(0);\" class='active'>"+i+"</a></li>":'<li><a href="javascript:void(0);">'+i+"</a></li>"}),t+="</ul>";var s=!0,o=!1,l=void 0;try{for(var c,r=n[Symbol.iterator]();!(s=(c=r.next()).done);s=!0){var p=c.value;p.type===i&&(t+='\n                    <div class="good">\n                    <a href="details.html?sid='+p.sid+'" target=\'_blank\'>\n                        <img class="lazy"\n                            data-original="'+p.small_url+'"\n                            width="225" height="304">\n                    </a>\n                    <div>\n                        <a href="">￥'+p.new_price+'</a>\n                        <a href="">￥'+p.old_price+"</a>\n                    </div>\n                </div>")}}catch(n){o=!0,l=n}finally{try{!s&&r.return&&r.return()}finally{if(o)throw l}}e.html(t)},details_render:function(){var n=location.search.replace("?","");$.ajax({url:"../php/check_good.php?"+n,dataType:"json"}).done(function(n){var e,i,a,t,s,o,l,c;$("#store").html(n.store),$("#small_pic").attr({src:n.small_url}),$("title").html(n.title),$("#big_pic").attr({src:n.small_url.replace("large","huge").replace("L.jpg","H.jpg")}),$("#detail main article .list ul").html((e="",i=n.urls.split(","),$.each(i,function(n,i){e+=0===n?'\n                            <li><img src="'+i+'S.jpg" alt="" class=\'active\'></li>\n                            ':'\n                        <li><img src="'+i+'S.jpg" alt=""></li>\n                        '}),e)),$("#detail h2").html(n.title),$("#detail .new_price").html("￥"+n.new_price),$("#detail .old_price").html("￥"+n.old_price),$("#detail .choose").html((t="",s=(a=n).color.split(","),o=a.urls_good.split(","),$.each(s,function(n,i){t+=0===n?'\n                            <div class="color_content active">\n                                <img src="'+o[n]+'" alt="">\n                                <span>'+i+"</span>\n                            </div>\n                        ":'\n                        <div class="color_content">\n                            <img src="'+o[n]+'" alt="">\n                        <span>'+i+"</span>\n                        </div>\n                        "}),t)),$("#detail .size div").html((l="",c=n.size.split(","),$.each(c,function(n,i){l+=0===n?"\n                            <span class='active'>"+i+"</span>\n                        ":"\n                            <span>"+i+"</span>\n                        "}),l)),$(function(){$("img.lazy").lazyload({effect:"fadeIn"})})})},cart_render:function(n,i,e){if($.cookie("sid")){var a=Array.from(new Set($.cookie("sid").split(","))).map(function(n){return+n}).sort(function(n,i){return n-i}),o=$.cookie("sid").split(","),l=$.cookie("color").split(","),c=$.cookie("size").split(","),r=$.cookie("num").split(",");$.ajax({url:"../php/cart.php?sid="+a,type:"get",dataType:"json"}).done(function(s){$.each(a,function(e,a){var t='\n                        <aside>\n                        <div class="title">\n                            <p>以下商品由 <span>'+s[e].store+"</span> 发货 免配送费</p>\n                        </div>\n                        ";$.each(o,function(n,i){a==i&&(s[e].new_price*r[e],t+='\n                                <div class="shop_content">\n                                    <input type="checkbox" class="choose">\n                                    <div class="good_info">\n                                        <img src="'+s[e].small_url+'" alt="">\n                                        <p>'+s[e].title+"</p>\n                                        <div>\n                                            <p>品牌:"+s[e].store+"</p>\n                                            <p class='cSize'>尺寸:"+c[n]+"</p>\n                                            <p class='cColor'>颜色:"+l[n]+'</p>\n                                        </div>\n                                    </div>\n                                    <p class="single_price">￥'+s[e].new_price+'</p>\n                                    <div class="number">\n                                        <button class="del">-</button>\n                                        <input type="text" class="good_num" value="'+r[n]+'">\n                                        <button class="add">+</button>\n                                    </div>\n                                    <p class="total_price">￥'+s[e].new_price*r[n]+'</p>\n                                    <div class="opecation">\n                                        <button class="remove">移除</button>\n                                    </div>\n                                </div>\n                            ')}),t+="</aside>",$(".good_content").html($(".good_content").html()+t);$.each(r,function(n,i){+i}),$(".deal").html('\n                        <div>\n                            <p>商品数量总计: <span class="sum"></span>\n                            <span>件 折后商品金额总计</span>\n                            <span id="total_price">￥</span>\n                            </p>\n                        </div>\n                        <div>\n                            <button class=\'settle\'>去结算</button>\n                        </div>\n                        ')}),i(),e(),n()})}else $(".deal").html("\n                    <p class='empty'>您的购物车空空如也,快去挑选一些商品吧</p>\n                    <a href='index.html'>去首页</a>\n                ")},indexCart:function(t){if($.cookie("sid")){var n=Array.from(new Set($.cookie("sid").split(","))).map(function(n){return+n}).sort(function(n,i){return n-i}),i=$.cookie("sid").split(","),s=$.cookie("color").split(","),o=$.cookie("size").split(","),l=$.cookie("num").split(","),c="",r=0;$.each(n,function(e,a){c+='\n                        <div class="good_content">\n                        <p class="store">'+t[e].title+"</p>\n                    ",$.each(i,function(n,i){a==i&&(r+=l[n]*t[e].new_price,c+='\n                                <div class="shop_content">\n                                <div class="onegood">\n                                    <img src="'+t[e].small_url+'" alt="">\n                                    <div class="info">\n                                        <p class="shoptitle">'+t[e].title+'</p>\n                                        <div class="colorinfo">\n                                            <span>'+o[n]+"</span>\n                                            <span>"+s[n]+'</span>\n                                        </div>\n                                        <div class="priceinfo">\n                                            <span class="goodprice">￥'+t[e].new_price+'</span>\n                                            <span class="goodnum">*'+l[n]+"</span>\n                                        </div>\n                                    </div>\n                                </div>\n                        ")}),c+="</div>"}),$(".indexCart").html(c),$(".counting").html('\n                <div>\n                <span class="goodNum">共'+l.map(function(n){return+n}).reduce(function(n,i){return n+i})+'件商品</span>\n                <span class="goodPrice">￥'+r+'</span>\n                </div>\n                <a href="cart.html" class="totalPrice">去购物车结算</a>\n                ')}else $(".indexCart").html(""),$(".counting").html("")}}});