"use strict";define(["jquery"],function(){return{index_render:function(){var e=this;$.ajax({url:"http://10.31.155.75/mbs/php/data.php",dataType:"json"}).done(function(n){e.chooseRender(n,"文艺女装",$("#main .literature"),0),e.chooseRender(n,"优雅女装",$("#main .grace"),1),e.chooseRender(n,"活泼女装",$("#main .lively"),2),e.chooseRender(n,"简约女装",$("#main .simplicity"),3),e.chooseRender(n,"度假女装",$("#main .vacation"),4),e.chooseRender(n,"舒适内衣",$("#main .underwear"),5),e.chooseRender(n,"品质男装",$("#main .mens"),6),e.chooseRender(n,"箱包品类",$("#main .package"),7),$(function(){$("img.lazy").lazyload({effect:"fadeIn"})})})},chooseRender:function(n,e,i,t){var a="<ul>";$.each(["文艺女装","优雅女装","活泼女装","简约女装","度假女装","舒适内衣","品质男装","箱包品类"],function(n,e){a+=t==n?"<li><a href=\"javascript:void(0);\" class='active'>"+e+"</a></li>":'<li><a href="javascript:void(0);">'+e+"</a></li>"}),a+="</ul>";var s=!0,l=!1,o=void 0;try{for(var c,r=n[Symbol.iterator]();!(s=(c=r.next()).done);s=!0){var p=c.value;p.type===e&&(a+='\n                    <div class="good">\n                    <a href="http://10.31.155.75/mbs/dist/details.html?sid='+p.sid+'" target=\'_blank\'>\n                        <img class="lazy"\n                            data-original="'+p.small_url+'"\n                            width="225" height="304">\n                    </a>\n                    <div>\n                        <a href="">￥'+p.new_price+'</a>\n                        <a href="">￥'+p.old_price+"</a>\n                    </div>\n                </div>")}}catch(n){l=!0,o=n}finally{try{!s&&r.return&&r.return()}finally{if(l)throw o}}i.html(a)},details_render:function(){var n=location.search.replace("?","");$.ajax({url:"http://10.31.155.75/mbs/php/check_good.php?"+n,dataType:"json"}).done(function(n){var i,e,t,a,s,l,o,c;$("#store").html(n.store),$("#small_pic").attr({src:n.small_url}),$("#big_pic").attr({src:n.small_url.replace("large","huge").replace("L.jpg","H.jpg")}),$("#detail main article .list ul").html((i="",e=n.urls.split(","),$.each(e,function(n,e){i+=0===n?'\n                            <li><img src="'+e+'S.jpg" alt="" class=\'active\'></li>\n                            ':'\n                        <li><img src="'+e+'S.jpg" alt=""></li>\n                        '}),i)),$("#detail h2").html(n.title),$("#detail .new_price").html("￥"+n.new_price),$("#detail .old_price").html("￥"+n.old_price),$("#detail .choose").html((a="",s=(t=n).color.split(","),l=t.urls_good.split(","),$.each(s,function(n,e){a+=0===n?'\n                            <div class="color_content active">\n                                <img src="'+l[n]+'" alt="">\n                                <span>'+e+"</span>\n                            </div>\n                        ":'\n                        <div class="color_content">\n                            <img src="'+l[n]+'" alt="">\n                        <span>'+e+"</span>\n                        </div>\n                        "}),a)),$("#detail .size div").html((o="",c=n.size.split(","),$.each(c,function(n,e){o+=0===n?"\n                            <span class='active'>"+e+"</span>\n                        ":"\n                            <span>"+e+"</span>\n                        "}),o))})},cart_render:function(n,e,i){if($.cookie("sid")){var t=Array.from(new Set($.cookie("sid").split(","))).map(function(n){return+n}).sort(function(n,e){return n-e}),l=$.cookie("sid").split(","),o=$.cookie("color").split(","),c=$.cookie("size").split(","),r=$.cookie("num").split(",");$.ajax({url:"http://10.31.155.75/mbs/php/cart.php?sid="+t,type:"get",dataType:"json"}).done(function(s){$.each(t,function(i,t){var a='\n                        <aside>\n                        <div class="title">\n                            <p>以下商品由 <span>'+s[i].store+"</span> 发货 免配送费</p>\n                        </div>\n                        ";$.each(l,function(n,e){t==e&&(s[i].new_price*r[i],a+='\n                                <div class="shop_content">\n                                    <input type="checkbox" class="choose">\n                                    <div class="good_info">\n                                        <img src="'+s[i].small_url+'" alt="">\n                                        <p>'+s[i].title+"</p>\n                                        <div>\n                                            <p>品牌:"+s[i].store+"</p>\n                                            <p class='cSize'>尺寸:"+c[n]+"</p>\n                                            <p class='cColor'>颜色:"+o[n]+'</p>\n                                        </div>\n                                    </div>\n                                    <p class="single_price">￥'+s[i].new_price+'</p>\n                                    <div class="number">\n                                        <button class="del">-</button>\n                                        <input type="text" class="good_num" value="'+r[n]+'">\n                                        <button class="add">+</button>\n                                    </div>\n                                    <p class="total_price">￥'+s[i].new_price*r[n]+'</p>\n                                    <div class="opecation">\n                                        <button class="remove">移除</button>\n                                    </div>\n                                </div>\n                            ')}),a+="</aside>",$(".good_content").html($(".good_content").html()+a);$.each(r,function(n,e){+e}),$(".deal").html('\n                        <div>\n                            <p>商品数量总计: <span class="sum"></span>\n                            <span>件 折后商品金额总计</span>\n                            <span id="total_price">￥</span>\n                            </p>\n                        </div>\n                        <div>\n                            <button>去结算</button>\n                        </div>\n                        ')}),e(),i(),n()})}}}});